# Session Layer

---

# 1. 정의

- 세션 계층은 OSI(Open System Interconnection) 모델의 5번째 계층이다.
- 이 계층을 사용하면 서로 다른 시스템의 사용자가 이들 사이에 활성 통신 세션을 설정할 수 있다.
- 최종 사용자 애플리케이션 간의 세션 설정, 유지 관리, 동기화, 종료를 담당한다.
- 데이터 스트림이 수신되어 추가로 표시되고 적절하게 다시 동기화되므로 메시지 끝이 처음에 잘리지 않고 추가 데이터 손실이 방지된다.
- 기본적으로 세션 엔터티 간의 연결을 설정한다.
- 세션 계층과 프레젠테이션 계층으로부터 수신하는 데이터를 처리하고 조작한다.

```
                애플리케이션 계층
                프리젠테이션 레이어
**현재 레이어=>   세션 레이어**
                전송 계층
                네트워크 계층
                데이터 레이어
                물리계층
```

# 2. 작동

- OSI 모델의 5번째 계층인 세션 계층은 전송 계층에서 제공하는 서비스를 사용하여 애플리케이션이 세션을 설정 및 유지하고 세션을 동기화할 수 있도록 한다.
    - 먼저 세션 주소를 배송 주소에 매핑해야 한다.
    - 두 번째는 필요한 전송 서비스 품질(QoS라고도 함) 매개변수를 선택해야 한다.
    - 다음으로 세션 매개변수 간에 발생하는 협상을 처리해야 한다.
    - 그런 다음 제한적이고 투명한 사용자 데이터를 전송해야 한다.
    - 그런 다음 마지막으로 데이터 전송 단계를 올바르게 모니터링해야 한다.
- 더 많은 양의 데이터 파일을 전송하는 능력은 매우 중요하다.

# 3. 기능

- OSI 모델의 다섯 번째 계층인 세션 계층은 안전한 연결을 설정하고 유지하는 데 필요한 여러 가지 중요 기능을 수행한다.
    
    `프리젠테이션 계층의 데이터 <=> 세션 계층 <=> 전송 계층의 데이터`
    
- 세션 레이어는 시스템이 반이중 모드 또는 전이중 통신 모드로 통신할 수 있도록 하는 대화 컨트롤러로 작동한다.
    
    <aside>
    💡 **1. 단방향 통신**
    - 송신측과 수신측이 미리 고정되어 있는 통신 방식
    - 통신 채널을 통하여 접속된 두 대의 단말기 사이에서 데이터가 한 쪽 방향으로만 전달되는 통신 방식
    - 전기적으로 신호를 보내기 위해서는 송신측과 수신측을 연결하는 회로를 구성
    - 예) 무선 호출기, 라디오, 아날로그 TV방송, 모니터, 키보드 등
    
    **2. 전이중 통신**
    - 접속된 두 대의 단말기들 간에 동시에 데이터를 송수신하는 통신
    - 두 개의 통신 채널을 이용하여 양방향으로 동시에 송수신
    - 전송 효율이 높고 데이터 양이 많을 때 사용
    
    **3. 반이중 통신**
    - 통신 채널에 접속된 두 대의 단말기 중 어느 한쪽이 데이터를 송신하면 상대편은 수신만 가능한 통신
    - 송신측과 수신측이 정해져 있지 않으며 양 단말기의 상호 협력에 의해 송수신 방향 전환
    - 하나의 통신 채널을 이용하여 교대로 데이터 송수신
    
    </aside>
    
- 두 사용자가 동일한 중요한 작업에 동시에 액세스하거나 시도하는 것을 방지하는 토큰 관리를 담당한다.
- 데이터 스트림에 대한 동기화 지점으로 간주되는 체크포인트를 추가하는 프로세스를 허용하여 동기화를 허용한다.
- 세션 체크포인트 및 복구도 담당한다..
- 기본적으로 최종 사용자 애플리케이션 프로세스 간의 세션을 열고 닫고 관리하는 메커니즘을 제공한다.
- 일반적으로 원격 프로시저 호출(RPC)을 사용하여 애플리케이션 환경에서 구현된다.1
- 다양한 소스의 정보를 동기화하는 역할도 담당한다.
- 각 최종 사용자 애플리케이션에 대한 단일 또는 다중 연결을 제어하고 프레젠테이션 및 전송 계층 모두와 직접 통신한다.
- 체크포인트를 사용하여 통신 실패가 발생한 특정 체크포인트에서 재개될 통신 세션을 활성화한다.
- 체크포인트에 이어 연기, 재시작, 종료를 위한 절차를 생성한다.
- 세션 계층은 이전 계층(전송 계층)에서 데이터 정보를 가져오거나 받는 역할을 담당하며 이후 계층(프레젠테이션 계층)으로 데이터를 보낸다.

# 4. **세션 레이어 프로토콜**

- 세션 레이어는 사용자와 애플리케이션 간에 존재하는 안전하고 정확하며 안전한 통신에 필요한 일부 프로토콜을 사용한다.

### 4-1. **AppleTalk 데이터 스트림 프로토콜(ADSP)**

- ADSP는 Apple Inc.에서 개발한 프로토콜 유형으로, 사전 설정 없이 LAN을 연결할 수 있는 다양한 기능을 포함한다.
- 이 프로토콜은 프로토콜 계층화의 OSI 모델을 엄격하게 따랐다.
- ADSP 자체에는 AARP(AppleTalk 주소 확인 프로토콜)와 NBP(이름 바인딩 프로토콜)라는 두 가지 프로토콜이 있으며 둘 다 시스템 자체 구성을 목표로 한다.

### 4-2. **실시간 전송 제어 프로토콜(RTCP)**

- RTCP는 RTP(실시간 전송 프로토콜) 세션에 대한 대역 외 통계 및 제어 정보를 제공하는 프로토콜이다.
- RTCP의 주요 기능은 전송된 옥텟, 패킷 수, 패킷 손실 등의 통계 정보를 스트리밍 멀티미디어 세션 참가자에게 주기적으로 전송하여 미디어 배포 시 서비스 품질(QoS)에 대한 피드백을 제공하는 것이다.
    
    <aside>
    💡 **옥텟(octet)**
    컴퓨팅에서 8개의 비트가 한데 모인 것을 말한다.(말 그대로 8비트로 된 일련의 데이터)
    
    **패킷(packet)**
    네트워크를 통해 전송하기 쉽도록 자른 데이터의 전송 단위이다.
    
    </aside>
    

### 4-3. **지점간 터널링 프로토콜(PPTP)**

- PPTP는 가상 사설망을 구현하는 방법을 제공하는 프로토콜이다.
- PPTP는 TCP 제어 채널과 일반 라우팅 캡슐화 터널을 사용하여 PPP(지점간 프로토콜) 패킷을 캡슐화한다.
- 이 프로토콜은 일반적인 VPN(가상 사설망) 제품과 비교할 수 있는 보안 수준과 원격 액세스 수준을 제공한다.

### 4-4. **PAP(암호 인증 프로토콜)**

- 암호 인증 프로토콜은 PPP(지점 간 프로토콜)에서 사용자를 확인하는 데 사용되는 암호 기반 인증 프로토콜이다.
- 거의 모든 네트워크 운영 체제, 원격 서버는 PAP를 지원한다.
- PAP 인증은 초기 링크 설정 시 이루어지며 양방향 핸드셰이크(클라이언트1가 데이터를 보내고 서버는 클라이언트가 보낸 데이터가 완전히 검증된 후 그 대가로 Authentication-ACK(Acknowledgement)를 보낸다)를 사용하여 클라이언트의 신원을 확인한다.).

### 4-5. **원격 프로시저 호출 프로토콜(RPCP)**

- 원격 프로시저 호출 프로토콜(RPCP)은 프로그래머가 명시적으로 세부 사항을 코딩하지 않고 컴퓨터 프로그램이 프로시저(또는 서브루틴)를 다른 주소 공간에서 실행하도록 할 때 사용되는 프로토콜이다.
- 이는 기본적으로 클라이언트-서버 상호 작용의 형태이며 일반적으로 요청-응답 메시지 전달 시스템을 통해 구현된다.

### 4-6. **SDP(소켓 다이렉트 프로토콜)**

- SDP(소켓 다이렉트 프로토콜)는 RDMA(원격 직접 메모리 액세스) 네트워크 패브릭을 통해 소켓 스트림을 지원하는 프로토콜이다.
- SDP의 목적은 TCP 프로토콜에 대한 RDMA 가속 대안을 제공하는 것이다.
- 주요 목표는 애플리케이션에 투명한 방식으로 특정 작업을 수행하는 것이다.

참고>

[Session Layer in OSI model - GeeksforGeeks](https://www.geeksforgeeks.org/session-layer-in-osi-model/)

[네트워크 기초 - 단방향, 반이중, 전이중 통신방식](https://ss-o.tistory.com/27)